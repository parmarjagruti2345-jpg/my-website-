<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Pro Toolkit</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
margin:0;
font-family:Segoe UI, sans-serif;
background:linear-gradient(135deg,#4f46e5,#9333ea);
color:white;
}
.header{
padding:20px;
font-size:24px;
font-weight:bold;
text-align:center;
background:rgba(0,0,0,0.2);
}
.section{
min-height:100vh;
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
padding:20px;
}
.card{
background:white;
color:black;
width:95%;
max-width:1000px;
padding:30px;
border-radius:20px;
box-shadow:0 20px 40px rgba(0,0,0,0.3);
text-align:center;
}
input, textarea, select{
padding:10px;
width:80%;
max-width:500px;
border-radius:10px;
border:1px solid #ccc;
margin:10px;
}
button{
padding:10px 20px;
border:none;
border-radius:20px;
background:linear-gradient(45deg,#4f46e5,#9333ea);
color:white;
cursor:pointer;
margin:10px;
}
button:hover{opacity:0.9;}
.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
gap:20px;
margin-top:20px;
}
.tool{
background:#f3f4f6;
padding:20px;
border-radius:15px;
cursor:pointer;
font-weight:bold;
}
.hidden{display:none;}
.editor{
border:1px solid #ccc;
min-height:250px;
padding:15px;
margin-top:10px;
text-align:left;
overflow:auto;
}
.toolbar button{
background:#eee;
color:black;
border-radius:6px;
}
.downloadBtn{
display:none;
background:green;
}
</style>
</head>

<body>

<div class="header">üéì Student Pro Toolkit</div>

<!-- LOGIN -->
<div class="section" id="page1">
<div class="card">
<h2>Enter Your Name</h2>
<input type="text" id="username">
<br>
<button onclick="goNext()">Enter</button>
<p id="msg" style="color:red;"></p>
</div>
</div>

<!-- DASHBOARD -->
<div class="section hidden" id="page2">
<div class="card">
<h2 id="welcome"></h2>
<h3>Select Tool</h3>

<div class="grid">
<div class="tool" onclick="openTool('textpdf')">üìù Text to PDF</div>
<div class="tool" onclick="openTool('imagepdf')">üñº Multiple Photo to PDF</div>
<div class="tool" onclick="openTool('convert')">üîÑ File Converter</div>
<div class="tool" onclick="openTool('resize')">üìè Photo Resize</div>
</div>

<button onclick="logout()">Logout</button>
</div>
</div>

<!-- TOOL PAGE -->
<div class="section hidden" id="toolPage">
<div class="card">
<h2 id="toolTitle"></h2>

<!-- TEXT TO PDF -->
<div id="textpdfTool" class="hidden">
<div class="toolbar">
<button onclick="format('bold')">Bold</button>
<button onclick="format('italic')">Italic</button>
<select onchange="changeFontSize(this.value)">
<option value="12">Small</option>
<option value="16">Medium</option>
<option value="22">Large</option>
</select>
<button onclick="addPage()">Add Page</button>
</div>

<div id="editor" class="editor" contenteditable="true">
Start typing...
</div>

<button onclick="generateTextPDF()">Generate PDF</button>
<button id="downloadTextPDF" class="downloadBtn">Download PDF</button>
</div>

<!-- MULTIPLE IMAGE PDF -->
<div id="imagepdfTool" class="hidden">
<input type="file" id="multiImageInput" multiple>
<br>
<button onclick="generateMultiPDF()">Generate PDF</button>
<button id="downloadMultiPDF" class="downloadBtn">Download PDF</button>
</div>

<!-- FILE CONVERTER -->
<div id="convertTool" class="hidden">
<input type="file" id="convertInput">
<select id="convertType">
<option value="png">JPG ‚Üí PNG</option>
<option value="jpg">PNG ‚Üí JPG</option>
<option value="pdf">Image ‚Üí PDF</option>
</select>
<br>
<button onclick="convertFile()">Generate File</button>
<button id="downloadConvert" class="downloadBtn">Download</button>
</div>

<!-- RESIZE -->
<div id="resizeTool" class="hidden">
<input type="file" id="resizeInput" multiple>
<select id="targetSize">
<option value="5">5 KB</option>
<option value="10">10 KB</option>
<option value="50">50 KB</option>
<option value="100">100 KB</option>
<option value="500">500 KB</option>
<option value="1024">1 MB</option>
<option value="2048">2 MB</option>
<option value="5120">5 MB</option>
<option value="10240">10 MB</option>
</select>
<br>
<button onclick="resizePhotos()">Generate Resized</button>
<button id="downloadResize" class="downloadBtn">Download All</button>
</div>

<button onclick="goBack()">Back</button>

</div>
</div>

<script>
const { jsPDF } = window.jspdf;
let generatedBlob=null;

/* LOGIN */
function goNext(){
let name=document.getElementById("username").value.trim();
if(name===""){
document.getElementById("msg").innerText="Please enter your name";
return;
}
document.getElementById("page1").classList.add("hidden");
document.getElementById("page2").classList.remove("hidden");
document.getElementById("welcome").innerText="Hello "+name+" üëã";
}
function logout(){location.reload();}

/* NAVIGATION */
function openTool(tool){
document.getElementById("page2").classList.add("hidden");
document.getElementById("toolPage").classList.remove("hidden");
document.querySelectorAll("#toolPage .downloadBtn").forEach(btn=>btn.style.display="none");
document.getElementById("textpdfTool").classList.add("hidden");
document.getElementById("imagepdfTool").classList.add("hidden");
document.getElementById("convertTool").classList.add("hidden");
document.getElementById("resizeTool").classList.add("hidden");

if(tool==="textpdf"){
document.getElementById("toolTitle").innerText="Text to PDF";
document.getElementById("textpdfTool").classList.remove("hidden");
}
if(tool==="imagepdf"){
document.getElementById("toolTitle").innerText="Multiple Photo to PDF";
document.getElementById("imagepdfTool").classList.remove("hidden");
}
if(tool==="convert"){
document.getElementById("toolTitle").innerText="File Converter";
document.getElementById("convertTool").classList.remove("hidden");
}
if(tool==="resize"){
document.getElementById("toolTitle").innerText="Photo Resize";
document.getElementById("resizeTool").classList.remove("hidden");
}
}
function goBack(){
document.getElementById("toolPage").classList.add("hidden");
document.getElementById("page2").classList.remove("hidden");
}

/* TEXT PDF */
function format(cmd){document.execCommand(cmd,false,null);}
function changeFontSize(size){
document.execCommand("fontSize",false,"7");
let fonts=document.getElementsByTagName("font");
for(let i=0;i<fonts.length;i++){
if(fonts[i].size=="7"){
fonts[i].removeAttribute("size");
fonts[i].style.fontSize=size+"px";
}
}
}
function addPage(){
document.getElementById("editor").innerHTML+="<div style='page-break-after:always; margin-top:40px;'></div>";
}
function generateTextPDF(){
let editor=document.getElementById("editor");
let doc=new jsPDF();
doc.html(editor,{callback:function(doc){
generatedBlob=doc.output("blob");
document.getElementById("downloadTextPDF").style.display="inline-block";
document.getElementById("downloadTextPDF").onclick=function(){
doc.save("document.pdf");
};
}});
}

/* MULTI PDF */
async function generateMultiPDF(){
let files=document.getElementById("multiImageInput").files;
if(!files.length)return;
let doc=new jsPDF();
for(let i=0;i<files.length;i++){
let data=await readFile(files[i]);
if(i>0)doc.addPage();
doc.addImage(data,'JPEG',10,10,180,160);
}
generatedBlob=doc.output("blob");
document.getElementById("downloadMultiPDF").style.display="inline-block";
document.getElementById("downloadMultiPDF").onclick=function(){
doc.save("multiple.pdf");
};
}

/* FILE CONVERT */
function convertFile(){
let file=document.getElementById("convertInput").files[0];
let type=document.getElementById("convertType").value;
if(!file)return;

let reader=new FileReader();
reader.onload=function(e){
if(type==="pdf"){
let doc=new jsPDF();
doc.addImage(e.target.result,'JPEG',10,10,180,160);
generatedBlob=doc.output("blob");
document.getElementById("downloadConvert").style.display="inline-block";
document.getElementById("downloadConvert").onclick=function(){
doc.save("converted.pdf");
};
}else{
let img=new Image();
img.onload=function(){
let canvas=document.createElement("canvas");
canvas.width=img.width;
canvas.height=img.height;
canvas.getContext("2d").drawImage(img,0,0);
let url=canvas.toDataURL("image/"+type);
document.getElementById("downloadConvert").style.display="inline-block";
document.getElementById("downloadConvert").onclick=function(){
let link=document.createElement("a");
link.href=url;
link.download="converted."+type;
link.click();
};
}
img.src=e.target.result;
}
}
reader.readAsDataURL(file);
}

/* RESIZE */
async function resizePhotos(){
let files=document.getElementById("resizeInput").files;
let targetKB=parseInt(document.getElementById("targetSize").value);
if(!files.length)return;

let zipLinks=[];
for(let i=0;i<files.length;i++){
let imgData=await readFile(files[i]);
let img=new Image();
img.src=imgData;
await new Promise(res=>img.onload=res);

let canvas=document.createElement("canvas");
canvas.width=img.width;
canvas.height=img.height;
let ctx=canvas.getContext("2d");
ctx.drawImage(img,0,0);

let quality=0.9;
let dataURL=canvas.toDataURL("image/jpeg",quality);
let safeCount=0;

while((dataURL.length/1024)>targetKB && quality>0.1 && safeCount<20){
quality-=0.05;
dataURL=canvas.toDataURL("image/jpeg",quality);
safeCount++;
}
zipLinks.push({url:dataURL,name:"resized_"+i+".jpg"});
}

document.getElementById("downloadResize").style.display="inline-block";
document.getElementById("downloadResize").onclick=function(){
zipLinks.forEach(file=>{
let link=document.createElement("a");
link.href=file.url;
link.download=file.name;
link.click();
});
};
}

/* FILE READER PROMISE */
function readFile(file){
return new Promise((resolve)=>{
let reader=new FileReader();
reader.onload=e=>resolve(e.target.result);
reader.readAsDataURL(file);
});
}
</script>

</body>
</html>

